{% assign navurl = site.url | append: site.baseurl | append: page.url | remove: '.html' %}
<ul class="pages">
{% for item in include.nav %}
    {% if item.url %}
      {% assign fullUrl = item.url %}
    {% else %}
      {% assign fullUrl = item.text %}
    {% endif %}
    {% assign fullUrl = fullUrl | slugify | prepend:include.base | absolute_url %}
    <li>
        <a href="{{ fullUrl }}">
            {% if navurl contains fullUrl %}
                <b>{{ item.text }}</b>
            {% else %}
                {{ item.text }}
            {% endif %}
        </a>
    </li>
    {% if item.subitems and navurl contains fullUrl %}
        <!-- Allows for skipping the "/" in menu.yml entries -->
        {% assign fullUrl = fullUrl | append:"/" %}
        {% include nav.html nav=item.subitems base=fullUrl %}
    {% endif %}
{% endfor %}
</ul>
